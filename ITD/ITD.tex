 % PACKAGES
\documentclass[a4paper, hidelinks, 12pt]{report}
\usepackage[margin=1in]{geometry}
\usepackage{amsfonts,amsmath,amssymb}
\usepackage[none]{hyphenat}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{float}
\usepackage[nottoc,notlot,notlof]{tocbibind}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage[utf8]{inputenc}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage[font=footnotesize]{caption}
\usepackage[flushleft]{threeparttable}
\usepackage{amsmath}
\usepackage{relsize}
\usepackage[super,negative]{nth}
\usepackage{enumerate}
\usepackage{float}
\usepackage{rotating}
\usepackage[dvipsnames]{xcolor}
\usepackage{listings}
\usepackage{float}
\restylefloat{table}

%%%%%%%%%%%%

% DOC STYLES
\makeatletter
\def\thickhrulefill{\leavevmode \leaders \hrule height 1ex \hfill \kern \z@}
\def\@makechapterhead#1{
	\vspace*{4\p@}
	{\parindent \z@ \centering \reset@font
		\thickhrulefill\quad
		\scshape \@chapapp{} \thechapter
		\quad \thickhrulefill
		\par\nobreak
		\vspace*{4\p@}
		\interlinepenalty\@M
		\hrule
		\vspace*{4\p@}
		\Huge \bfseries #1\par\nobreak
		\par
		\vspace*{4\p@}
		\hrule
		\vskip 50\p@
}}
\def\@makeschapterhead#1{
	\vspace*{4\p@}
	{\parindent \z@ \centering \reset@font
		\thickhrulefill
		\par\nobreak
		\vspace*{4\p@}
		\interlinepenalty\@M
		\hrule
		\vspace*{4\p@}
		\Huge \bfseries #1\par\nobreak
		\par
		\vspace*{4\p@}
		\hrule
		\vskip 50\p@
}}

\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyhead[L]{\slshape\MakeUppercase{\textbf{ITD}}}
\fancyhead[R]{\slshape{Avila, Schiatti, Virdi}}
\fancyfoot[C]{\thepage}
\renewcommand{\footrulewidth}{1pt}
\renewcommand{\headrulewidth}{1pt}
\linespread{1.3}
%\floatstyle{boxed}
\restylefloat{figure}
\setlength\parindent{0pt}
%\renewcommand{baselinestretch}{1.5}

%%%%%%%%%%%%

% COMMANDS
\newcommand\requirement[1]{\item[{[R#1]}] }
\newcommand\goal[1]{\item[{[G#1]}] }
\newcommand\assumption[1]{\item[{[D#1]}] }
\newcommand\usecase[1]{ [UC#1] }

%%%%%%%%%%%%

%BODY
\begin{document}
	\begin{titlepage}
		\centering
		\vspace*{0.7 cm}
		\includegraphics[scale = 0.85]{../Assets/PolimiLogo.png}\\[1.6 cm]
		\textsc{\large Department of Computer Science and Engineering}\\[1.8 cm]

		\rule{\linewidth}{0.2 mm} \\[0.4 cm]
		{ \huge \bfseries Implementation \& Test Deliverable Document (ITD)}\\
		\rule{\linewidth}{0.2 mm} \\[1.5 cm]

		\textsc{\Large TrackMe}\\[0.5 cm]
		\textsc{\large - v1.0 -}\\[1 cm]

		\begin{minipage}{0.4\textwidth}
			\begin{flushleft} \large
				\emph{Authors:}\\
				\textbf{Avila}, Diego \\
				\textbf{Schiatti}, Laura \\
				\textbf{Virdi}, Sukhpreet
			\end{flushleft}
		\end{minipage}~
		\begin{minipage}{0.4\textwidth}
			\begin{flushright} \large
				903988 \\
				904738 \\
				904204
			\end{flushright}
		\end{minipage}\\[2 cm]

		\textsc{\large Source code repository}
		\href{https://github.com/lauricdd/AvilaSchiattiVirdi/tree/backend/src}{\textbf{https://github.com/lauricdd/AvilaSchiattiVirdi/tree/backend/src}}\\[1 cm]

		{\large January \nth{13} , 2019}\\[2 cm]

		\vfill
	\end{titlepage}

	\pagenumbering{roman}
	\tableofcontents
%	\thispagestyle{empty}
	\newpage
%	\listoffigures
	\listoftables
%	\thispagestyle{empty}
	\clearpage
	\pagenumbering{arabic}
	\setcounter{page}{1}

	\chapter{Introduction}
	\section{Purpose}
	This document describes in detail the processes of implementation and testing of D4H and ASOS following the specifications reported in RASD and DD documents. The purpose of this document is to provide a general overview of a running prototype implementation of TrackMe and the process of testing it.

	\section{Scope}
	This document represents the Integration Testing Plan Document for TrackMe Service. \\

	Integration testing is a key activity to guarantee that all the different subsystems composing Data4Help and AutomatedSOS interoperate consistently with the requirements they are supposed to fulfil and without exhibiting unexpected behaviours. The purpose of this document is to outline, in a clear and comprehensive way, the main aspects concerning the organization of the integration testing activity for all the components that make up the system.\\

	Furthermore, in this document it is explained how the code is organized, and how to prepare the environment in order to continue the work done so far. Also, it is explained how to run the systems, and the way they interact.\\

	More precisely, the document presents:

\begin{itemize}
		\item{A list of all the implemented requirements, for Data4Help and AutomatedSOS}
		\item{The adopted programming languages and frameworks}
		\item{A description and structure of the source code}
		\item{The sequence in which components and subsystems will be integrated}
		\item{A description of the test plan, and the tests done so far}
		\item{Installation and development instructions}
	\end{itemize}.

	\chapter{Implemented Requirements}
This section describes which functional requirements were implemented in the presented TrackMe prototype which compresses D4H and ASOS systems in reference to the ones already stated in the RASD.

\section{\textbf{Data4Help}}
\subsection{Data4Help Requirements}
	Since, regarding the implementation of Data4Help system, the requirements addressed are:

	\begin{enumerate}
		\requirement{1} The system must allow an individual to register a new account \\
		\textbf{D4H::SignupService}
		\requirement{2} The system must allow an individual to access to their account \\
		\textbf{D4H::LoginService}
		\requirement{3} The system must allow an individual to accept or reject their requests of accessing personal data \\
		\textbf{D4H::D4HRequestService}
		\requirement{4} The system must be able to communicate with TrackMe database in order to obtain the health status and location of an individual \\
		\textbf{D4H::SearchService}
		\requirement{5} The system must allow a third party company to register a new account \\
		\textbf{D4H::SignupService}
		\requirement{6} The system must allow a third party company to access to its account 	\\
		\textbf{D4H::LoginService}
		\requirement{7} The system must be able to notify the individual that a third party company wants to access its data \\
		\textbf{D4H::D4HRequestService}
		\requirement{8} The system must allow a third party company to search for an individual health status and location using his/her SSN \\
		 \textbf{D4H::SearchService}
		 \requirement{9} The system must allow a third party company to filter data of an anonymized group of individuals by country, age, gender and blood type parameters \\
		 \textbf{D4H::SearchService}
		 \requirement{10} The system must be able to anonymize the data of a group of individuals \\
		 \textbf{D4H::APIManager}
		 \requirement{11} The system must allow a third party company to subscribe to an individual health status and location \\
		\textbf{D4H::SubscriptionService}
		\requirement{12} The system must allow a third party company to subscribe to data of an anonymized group of individuals \\
		\textbf{D4H::SubscriptionService}
	\end{enumerate}

\section{\textbf{AutomatedSOS}}
\subsection{AutomatedSOS Requirements}
	With respecto to the implementation of AutomatedSOS system, the requirements that are addressed are:
	\begin{enumerate}
		\requirement{13} The system must be able to send a request for monitoring an individual's data when he/she is older than 60 years old \\
		\textbf{ASOS::DataService}
		\requirement{14} The system must be able to monitor, and compare against defined thresholds, the health status of an individual \\
		\textbf{ASOS::DataService}
		\requirement{15} The system must be able to contact the health-care service associated to an individual \\
		\textbf{ASOS::DataService}
	\end{enumerate}

\section{Risks and Contingencies}
This subsection of the Implementation Plan identifies the risks and specific actions to be taken in the event the implementation fails or needs to be altered at any point and includes the factors to be used for making the decision. The possible risk that we are addressing in our system at this point of time are as follows:
\begin{itemize}
\item{} System fails to connect to the Server/Database, and in case of out-of-range health parameters, action cannot be taken within time.
\item{} In these kind of scenarios, as soon as the system is back on-line, latest parameters are checked and further transmitted.
\end{itemize}

\section{Acceptance Criteria}
This section of the Implementation Plan establishes the exit or acceptance criteria for transitioning the system into production. Identify the criteria that will be used to determine the acceptability of the deliverables as well as any required technical processes, methods, tools, and/ or performance benchmarks required for product acceptance. \\\\
When the system passes all the test cases and end-2-end scenarios (illustrated in chapter-6 in detail) without fail and the system is 100\% on-line with all the requirements stated about are implemented and working properly and making the system stable. Based on which a go/no-go decision can be taken, firstly a beta-version of the product can be published.

	\chapter{Adopted development frameworks}
In the following chapter a list of development frameworks and technologies that are used in building  D4H and ASOS systems, they were designed and implemented to be highly decoupled.

	\section{Adopted Programming Languages}
	The Programming languages used are:

	\subsection{Java} Java is a general-purpose computer-programming language that is concurrent, class-based, object-oriented,and specifically designed to have as few implementation dependencies as possible. This language was used for the development of D4H and ASOS backends.

	\subsubsection{Advantages}
	\begin{itemize}
	\item{Object-oriented}: allows to create modular programs and reusable code.
	\item{Platform-Independent}: ability to move easily from one computer system to another.
		\item{Distributed}: designed to make distributed computing easy with the networking capability that is inherently integrated into it.
		\item{Secure}: the Java language, compiler, interpreter, and runtime environment were each developed with security in mind.
		\item{Allocation}: java has the feature of Stack allocation system. It helps the data to be stored and can be restored easily.
		\item{Multithreaded}: the capability for a program to perform several tasks simultaneously within a program.
	\end{itemize}

	\subsubsection{Disadvantages}
	\begin{itemize}
	\item{Performance}: significantly slower and more memory-consuming than natively compiled languages such as C or C++.
	\item{Look and Feel}: the default look and feel of GUI applications written in Java using the Swing toolkit is very different from native applications.
		\item{Single paradigm language}: the addition of static imports in Java 5.0 the procedural paradigm is better accommodated than in earlier versions of Java.
	\end{itemize}

\subsection{Typescript}
	TypeScript is an open-source programming language, it is a strict syntactical superset of JavaScript, and adds optional static typing to the language. TypeScript is designed for development of large applications and transcompiles to JavaScript. As TypeScript is a superset of JavaScript, existing JavaScript programs are also valid TypeScript programs. TypeScript may be used to develop JavaScript applications for both client-side and server-side (Node.js) execution.\\

\subsubsection{Advantages}
\begin{itemize}
\item{} Object Oriented Programming Features
\item{} Does not need a runtime plugin
\item{} It is used in popular frameworks
\item{} Learning Curve
\end{itemize}
\subsubsection{Disadvantages}
\begin{itemize}
\item{} Needs development tooling
\item{} Cannot easily be edited by content management systems (CMS)
\item{} Short update cycles
\end{itemize}

\subsection{PHP}
PHP: Hypertext Preprocessor is a server-side scripting language designed for web development.

\subsubsection{Advantages}
\begin{itemize}
\item{} Rapid development
\item{} Easy maintenance
\end{itemize}

\subsubsection{Disadvantages}
\begin{itemize}
\item{} Slower execution
\item{} Limited visibility and control
\end{itemize}

	\section{Adopted Middle-wares}
	To begin with, it is suggested to build Java based applications, since developers have expertise working with this language.

\subsection{Java Spark Framework}
Java Spark Framework is a simple and expressive Java web framework DSL built for rapid development. Sparks intention is to provide an alternative for Java developers that want to develop their web applications as expressive as possible and with minimal boilerplate. It is a micro-framework for MVC applications, because pure Java web development has traditionally been very cumbersome. The configuration for this framework is minimal and with a short learning curve.\\

Spark Java has a very consistent API which consists of just calling static methods from within your code. Indeed, it is a framework, in the sense that you specify the code to run and it wraps it in its own functionality. The developers can control what route mappings to declare, what code is the responsible for handling the requests and how to handle everything else.

\subsubsection{Advantages}
		\begin{itemize}
		\item{} Fast and lightweight
	\item{} Excellent for rapid prototyping
	\item{} Easy to setup
	\item{} Most commonly used with AngularJS
	\item{} Real micro-framework
	\item{} Uses Jetty
	\item{} Can be used inside a container or without one
		\end{itemize}
\subsubsection{Disadvantages}
			\begin{itemize}
		\item{} Documentation could be better, it is not intended for beginners.
		\item{} Not suitable for large projects
		\item{} Small community
		\end{itemize}

\subsection{Morphia Framework}
MongoDB is an open source document-oriented NoSQL database system which stores data as JSON-like documents with dynamic schemas.  As it doesn't store data in tables as is done in the usual relational database setup, it doesn't map well to the JPA way of storing data. Morphia is an open source lightweight type-safe library designed to bridge the gap between the MongoDB Java driver and domain objects. It can be an alternative to SpringData if you're not using the Spring Framework to interact with MongoDB.

\subsubsection{Advantages}

		\begin{itemize}
		\item{} Stable
	\item{} Very good integration
	\item{} Offers access to all Mongo driver features
	\item{} Provides more extensiblity leading you to enjoy the ability to suck most out of mongo features
	\item{} Lightweight
		\end{itemize}
\subsubsection{Disadvantages}
			\begin{itemize}
		\item{} Does not have serializers for enumeration type
		\end{itemize}

\subsection{Lettuce Framework}
 Lettuce is a fully non-blocking Redis client built with netty providing Reactive, Asynchronous and Synchronous Data Access. Lettuce connects with all operational models natively supported by Redis. Partition-tolerance, Read Slaves and Transport-Level-Security provide the required foundation for highly scalable applications.

\subsubsection{Advantages}
\begin{itemize}
\item{} Standalone
\item{} Providing synchronous, asynchronous and reactive APIs
\item{} Partition-tolerance
\item{} Dynamic API
\item{} Cloud ready
\end{itemize}


\subsection{Angular Framework}
It is a TypeScript-based open-source front-end web application framework led by the Angular Team at Google and by a community of individuals and corporations. Angular is a complete rewrite from the same team that built AngularJS.\\

Angular implements MVC architecture to develop web application. It provides a platform where only few attributes needs to be added to the HTML language and progress with the development will be faster. It enhances HTML which makes all difficult tasks move smoothly. Using MVC architecture helps in retrieving and inserting the data, independent of user interface. Angular makes it easy to arrange things like dynamic loading and dependencies and utilize them as required without worrying about instances and namespaces. Angular development is Robust and easy. It is has features like filters, data binding, scope management, directives, API client, form validation. These features make the web applications more straightforward and easy to detect and troubleshoot them.
\subsubsection{Advantages}
\begin{itemize}
\item{} Two way data binding
\item{} Directives
\item{} Dependency injection
\item{} Community
\end{itemize}
\subsubsection{Disadvantages}
\begin{itemize}
\item{} Performance
\item{} Steep learning curve

\end{itemize}

	\section{Additional APIs}
The only external APIs to whom TrackMe environment depends on, are the health-care services to which ASOS should contact in some cases. Both D4H and T4R do not depend on any external services.


\subsection{Docker}
Docker is a tool designed to make it easier to create, deploy, and run applications by using containers. Containers allow a developer to package up an application with all of the parts it needs, such as libraries and other dependencies, and ship it all out as one package. By doing so, thanks to the container, the developer can rest assured that the application will run on any other Linux machine regardless of any customized settings that machine might have that could differ from the machine used for writing and testing the code.

\subsubsection{Advantages}

\begin{itemize}
\item{} Containers are small compared to VMs
\item{} Containers uses less resources
\item{} Fast boot
\item{} Eliminating the “Works on My Machine” situation

\end{itemize}
\subsubsection{Disadvantages}

\begin{itemize}
\item{} Security
\item{} Isolation
\item{} Networking

\end{itemize}

\subsection{MongoDB}
MongoDB is a cross-platform document-oriented database program. It is issued under the Server Side Public License (SSPL) version 1, which was submitted for certification to the Open Source Initiative but later withdrawn in lieu of SSPL version 2[6]. Classified as a NoSQL database program, MongoDB uses JSON-like documents with schemata.

\subsubsection{Advantages}

\begin{itemize}
\item{} schema-less. If you have a flexible schema, this is ideal for a document store like MongoDB. This is difficult to implement in a performant manner in RDBMS
\item{} ease of scale-out. Scale reads by using replica sets. Scale writes by using sharding (auto balancing). Just fire up another machine and away you go. Adding more machines = adding more RAM over which to distribute your working set.
\item{} cost. Depends on which RDBMS of course, but MongoDB is free and can run on Linux, ideal for running on cheaper commodity kit.
\item{} you can choose what level of consistency you want depending on the value of the data (e.g. faster performance = fire and forget inserts to MongoDB, slower performance = wait til insert has been replicated to multiple nodes before returning)

\end{itemize}
\subsubsection{Disadvantages}

\begin{itemize}
\item{} Data size in MongoDB is typically higher due to e.g. each document has field names stored it
\item{} less flexibity with querying (e.g. no JOINs)
\item{} no support for transactions - certain atomic operations are supported, at a single document level
\item{} at the moment Map/Reduce (e.g. to do aggregations/data analysis) is OK, but not blisteringly fast. So if that's required, something like Hadoop may need to be added into the mix
\item{} less up to date information available/fast evolving product

\end{itemize}


\chapter{Structure of the source code}

\section{D4H Backend (Spark project)}
	The general structure of the project is contained in src/main/java folder, it can be seen in Figure \ref{fig:d4h_source_code_structure} As in any spark project there are several folders concerning general configurations of the project and also others containing the source code, in this opportunity four main ones can be highlighted: model, resource, service and jobs.

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.5]{images/backend/d4h_source_code_structure.png}
		\caption[D4H Source code - General Structure]{D4H Source code - General Structure}
		\label{fig:d4h_source_code_structure}
	\end{figure}

	\begin{itemize}
		\item \textbf{model}: containes the classes define all data structures, such as \textit{Individual, ThirdParty}, etc.

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/backend/d4h_source_code_models.png}
		\caption[D4H Source code - Models]{D4H Source code - Models}
		\label{fig:d4h_source_code_models}
	\end{figure}

		\item \textbf{resource}: contains classes that directly manage the data, by interacting with the database and retrieving them to services. There are \textit{SubscriptionResource, UserResource,} among other.

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/backend/d4h_source_code_resources.png}
		\caption[D4H Source code - Resources]{D4H Source code - Resources}
		\label{fig:d4h_source_code_resources}
	\end{figure}

		\item \textbf{service}: classes in charge of controlling the application logic and expose methods and routes that can be consumed by frontend applications. D4H provides services such as \textit{SearchService, SubscriptionService}, etc.

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/backend/d4h_source_code_services.png}
		\caption[D4H Source code - Services]{D4H Source code - Services}
		\label{fig:d4h_source_code_services}
	\end{figure}

		\item \textbf{jobs}: contains scheduled async task, that repeat according to how they were configured. For instance, the DataScheduler job looks for all the subscriptions that should be executed, makes a search using the saved query, anonymizes the data, and sends it to the third party.

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/backend/d4h_source_code_jobs.png}
		\caption[D4H Source code - Jobs]{D4H Source code - Jobs}
		\label{fig:d4h_source_code_jobs}
	\end{figure}
	\end{itemize}

\section{ASOS Backend (Spark project)}
ASOS has the same structure that D4H, but in this case, since ASOS does not expose services to possible consumer apps, it has fewer classes and all of them have a specific task to complete.

All the important requirements that ASOS need to fulfill are in charge of DataService and

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/backend/asos_source_code_structure.png}
		\caption[ASOS Source code - General Structure]{ASOS Source code - General Structure}
		\label{fig:asos_source_code_structure}
	\end{figure}

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/backend/asos_source_code_models.png}
		\caption[ASOS Source code - Models]{ASOS Source code - Models}
		\label{fig:asos_source_code_models}
	\end{figure}

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/backend/asos_source_code_resources.png}
		\caption[ASOS Source code - Resources]{ASOS Source code - Resources}
		\label{fig:asos_source_code_resources}
	\end{figure}

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/backend/asos_source_code_services.png}
		\caption[ASOS Source code - Services]{ASOS Source code - Services}
		\label{fig:asos_source_code_services}
	\end{figure}


\section{D4H Frontend (Angular 7 project)}
The whole project is contained in the folder src (Figure \ref{fig:d4h_source_code_structure}). In this folder there three main parts: app, assets and environment. Outside of them there are other configuration files.

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/frontend/d4h_source_code_structure.png}
		\caption[Source code: General Structure]{Source code: General Structure}
		\label{fig:d4h_source_code_structure}
	\end{figure}

	\begin{itemize}
		\item \textbf{app}: this folder contains the source code of the application, so we will focus on its content (Figure \ref{fig:d4h_source_code_models_services}).

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/frontend/d4h_source_code_models_services.png}
		\caption[Source code: Models and Services]{Source code: Models and Services}
		\label{fig:d4h_source_code_models_services}
	\end{figure}

	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.6]{images/frontend/d4h_source_code_components_assets.png}
		\caption[Source code: Components]{Source code: Components}
		\label{fig:d4h_source_code_components_assets}
	\end{figure}

	\begin{itemize}
			\item \textbf{\_guards} and \textbf{\_helpers} contain some general purpose functions used by services and components.
			\item \textbf{\_models} contain the definition of classes and enumerations regarding data structure in the app. They are highly useful to map data coming from the backend.

			Angular distinguishes \textit{components} from \textit{services} to increase modularity and reusability. By separating a component's view-related functionality from other kinds of processing, you can make your component classes lean and efficient. Then,

			\item \textbf{\_services} are classes with a narrow, well-defined purpose. It should do something specific and do it well.
			\item \textbf{components} they delegate certain tasks to services, such as fetching data from the server, validating user input, or logging directly to the console. In this case, dashboard, login, profile, register, request, search and ui are components, each one devoted to specific requirements.
		\end{itemize}

		\item \textbf{assets}: contains all the asset files such as logos, images, videos, media etc.
		\item \textbf{environments}:  is devoted to the environment based configurations, in this case contains the url to access the services exposed by the backend.
	\end{itemize}

	\chapter{Integration Strategy}
	\section{Entry Criteria}
	\label{sec:Entry Criteria}
	In order for the integration testing to be possible and to produce meaningful results, there are a number of conditions on the progress of the project that have to be met.\\
	\quad First of all, the \textbf{Requirements Analysis and Specification Document} and the \textbf{Design Document} must have been fully written. This is a required step in order to have a complete picture of the interactions between the different components of the system and of the functionalities they offer.\\

	\quad Secondly, the integration process should start only when the estimated percentage of completion of every component with respect to its functionalities is:
	\begin{itemize}
		\item{}\textbf{100\%} for the \textbf{Data4Help Backend} component
		\item{}At least \textbf{90\%} for the \textbf{LoginService and RegisterService} subsystem
		\item{}At least \textbf{70\%} for the \textbf{SearchManager and RequestService} subsystem
		\item{}At least \textbf{50\%} for the \textbf{ASOS Backend} applications
	\end{itemize}
	It should be noted that these percentages refer to the status of the project at the beginning of the integration testing phase and they do not represent the minimum completion percentage necessary to consider a component for integration, which must be at least \textbf{90\%}. The choice of having different completion percentages for the different components has been made to reflect their order of integration and to take into account the required time to fully perform integration testing.

	\section{Elements to be integrated}
	As specified in TrackMe Design Document, the system is built upon the interactions of many high-level components, each one implementing a specific set of functionalities. For the sake of modularity, each subsystem is further obtained by the combination of several lower-level components. Because of this software architecture, the integration phase will involve the integration of components at two different levels of abstraction.\\

	At the lowest level, we'll integrate together those components that depend strongly on one another to offer the higher level functionalities of \textbf{Data4Help Backend}. This involves the integration of the \textbf{Login Service and Signup Service}, \textbf{Search Service}, \textbf{Request Service}, \textbf{Subscription Service} components in order to obtain the \textbf{Data4Help Management System} subsystem.\\

	For what concerns the building of the \textbf{AutomatedSOS} and \textbf{Track4Run} subsystems, the integration activity is actually quite limited; in fact, they simply represent a collection of functionalities belonging to the same area which however are not dependent on one another. As a result of this, their subcomponents don't really interact with each other, and the integration phase will be limited to the task of ensuring that the set of functionalities of each subcomponent is properly exposed by the subsystem. The components involved in this phase are:

	\begin{itemize}
	\item{} The \textbf{DataService, APIManager and DBManger} subcomponents in order to obtain the \textbf{AutomatedSOS subsystem}.
	\item{} The \textbf{Login, Signup, User, Event, Notification, Data handler, Request and  Authentication manager} subcomponents in order to obtain the \textbf{Track4Run Management subsystem}.
	\end{itemize}
		Some of these subcomponents also directly rely on higher level, atomic components: that is the case, for instance, of the dependency on the \textbf{DataService} component. These dependencies will be taken care of in the integration process.\\

		Finally, we will proceed with the integration of the higher level subsystems. In particular, the integration activity will involve:
	\begin{itemize}
	\item{} The already existing components used to achieve
specific functionalities: these are the \textbf{DBMS and Notification system} components.
\item{} Those components and subsystems specifically developed for TrackMeService, that are:

	\begin{itemize}
	\item{} On the server side: the \textbf{Data4Help Management System, Authentication system, Search subsystems}, together with the \textbf{Data Service} component.
	\item{} On the client side: the \textbf{Data4Help Web Application and Track4Run Web Application} components.
	\end{itemize}

	\end{itemize}

	\section{Integration testing strategy}
	The approach we're going to use to perform integration testing is based on a mixture of the bottom-up and critical-module-first integration strategies.\\

	Using the bottom-up approach, we will start integrating together those components that do not depend on other components to function, or that only depend on already developed components. This strategy brings a number of important advantages. First, it allows us to perform integration tests on "real" components that are almost fully developed and thus obtain more precise indications about how the system may react and fail in real world usage with respect to a top-down approach. Secondly, working bottom-up enables us to more closely follow the development process, which in our case is also proceeding using the bottom-up approach; by doing this we can start performing integration testing earlier in the development process as soon as the required components have been developed in order to maximize parallelism and efficiency.\\

	Since subsystems are fairly independent from one another, the order in which they're integrated together to obtain the full system follows the critical-module-first approach. This strategy allows us to concentrate our testing efforts on the riskiest components first, that is those that represent the core functionalities of the whole system and whose malfunctioning could pose a very serious threat to the correct implementation of the entire TrackMe infrastructure. By proceeding this way, we are able to discover bugs earlier in the integration progress and take the necessary measures to correct them on time.\\

	\section{Sequence of Component/Function Integration}
	This section has already been explained in detail in the \textbf{DD} - Design Document \textbf{(Reference section: 5.3.3 Integration order)}.

	\chapter{Test Plan}
	\section{Test Scenarios}
	In the following section a list of test scenarios is described. These scenarios were used to test D4H back-end and front-end, and ASOS back-end. The test scenarios were categorized by its importance, based on how critical are for the system. \\

	\begin{table}[h]
		\centering
		\begin{tabular}{l l l}
			\hline\hline
			\multicolumn{3}{c}{\textbf{Scenario List - D4H}} \\
			\hline
			\multicolumn{1}{c |}{\textbf{ID}}  &
			\multicolumn{1}{c |}{\textbf{Description}} &
			\multicolumn{1}{c |}{\textbf{Importance}} \\
			\hline
			SC01  & Validate the login functionality of the system & Medium \\
   			SC02  & Validate the login functionality of the system with blank data & Medium \\
    			SC03  & Validate if third party is able to request individual's data & High \\
    			SC04  & Validate if third party is able to request bulk data & High \\
    			SC05  & Validate the individual's response to request (Accept/Reject) & High \\
    			SC06  & Validate third party is able to see the subscribed data on its dashboard & Low\\
			\hline
		\end{tabular}
		\caption{Test scenarios for D4H}
		\label{tab:Test Scenario List - Data4Help}
	\end{table}

	\begin{table}[h]
		\centering
		\begin{tabular}{l l l}
			\hline\hline
			\multicolumn{3}{c}{\textbf{Scenario List - ASOS}} \\
			\hline
			\multicolumn{1}{c |}{\textbf{ID}}  &
			\multicolumn{1}{c |}{\textbf{Description}} &
			\multicolumn{1}{c |}{\textbf{Importance}} \\
			\hline
			SC07  & Validate notification service & High \\
   			SC08  & Validate data service & High \\
    			SC09  & Validate threshold checking & High  \\
    			SC10  & Validate contacting health care service & High \\
			\hline
		\end{tabular}
		\caption{Test scenarios for ASOS}
		\label{tab:Test Scenario List - ASOS}
	\end{table}

	\section{Test Cases}
	The tests cases were done by hand, following the steps described below and based on the importance described in the Test Scenarios section. Not all test cases were executed, only those with High and Medium importance.\\

	Moreover, for testing purposes, a data generator tool has been made. It was developed using PHP as a language, and it generates and sends health data and location for all the D4H users. The testing environment was done using Docker as a virtual environment, and Docker Compose to setup the systems: Data4Help back-end and front-end, MongoDB and Redis databases, AutomatedSOS back-end, and the data generator tool.

\subsection{Data4Help test cases}
\begin{itemize}
		\item{\textbf{Login positive}} \\
		\textbf{Scenario ID}: SC01 \\
		\textbf{Pre-requisite}: Valid user account \\
		\textbf{Expected output}: User has logged in successfully\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Complete field Email with a valid email}
			\item{Complete field Password with a valid password}
			\item{Press Login button}
		\end{enumerate}
		\textbf{Actual output}: Login successful \\
		\rule{\linewidth}{0.4pt}
		\item{\textbf{Login negative}} \\
		\textbf{Scenario ID}: SC02 \\
		\textbf{Pre-requisite}: Non user account \\
		\textbf{Expected output}: Error show\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Complete field Email with a non valid email}
			\item{Complete field Password with a non valid password}
			\item{Press Login button}
		\end{enumerate}
		\textbf{Actual output}: The provided email and password are invalid \\
		\rule{\linewidth}{0.4pt}
		\item{\textbf{Login negative 2}} \\
		\textbf{Scenario ID}: SC02 \\
		\textbf{Pre-requisite}: Non user account \\
		\textbf{Expected output}: Error show\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Press Login button}
		\end{enumerate}
		\textbf{Actual output}: The provided email and password are invalid \\
		\rule{\linewidth}{0.4pt}
		\item{\textbf{Send Request}} \\
		\textbf{Scenario ID}: SC03 \\
		\textbf{Pre-requisite}: Valid user account \\
		\textbf{Expected output}: Request sent\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Login into the application with a third party account}
			\item{Click on Search}
			\item{Fill in the SSN with a valid SSN number}
			\item{Click Filter button}
			\item{Accept the message to send the request}
		\end{enumerate}
		\textbf{Actual output}: The request has been sent\\
		\rule{\linewidth}{0.4pt}

		\item{\textbf{Send Request - negative}} \\
		\textbf{Scenario ID}: SC03 \\
		\textbf{Pre-requisite}: Valid user account \\
		\textbf{Expected output}: Error shown\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Login into the application with a third party account}
			\item{Click on Search}
			\item{Fill in the SSN with a non valid SSN number}
			\item{Click Filter button}
		\end{enumerate}
		\textbf{Actual output}: An error is shown\\
		\rule{\linewidth}{0.4pt}

		\item{\textbf{Search bulk data}} \\
		\textbf{Scenario ID}: SC04 \\
		\textbf{Pre-requisite}: Valid user account \\
		\textbf{Expected output}: A list with data is shown\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Login into the application with a third party account}
			\item{Click on Search}
			\item{Click on Bulk data}
			\item{Fill in the select a Gender}
			\item{Click Filter button}
		\end{enumerate}
		\textbf{Actual output}: A list of data is shown\\
		\rule{\linewidth}{0.4pt}

		\item{\textbf{Search bulk data - negative 1}} \\
		\textbf{Scenario ID}: SC04 \\
		\textbf{Pre-requisite}: Valid user account, no data to be shown \\
		\textbf{Expected output}: no data shown\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Login into the application with a third party account}
			\item{Click on Search}
			\item{Click on Bulk data}
			\item{Fill in the select a Gender}
			\item{Click Filter button}
		\end{enumerate}
		\textbf{Actual output}: An empty list is shown\\
		\rule{\linewidth}{0.4pt}

		\item{\textbf{Accept a request}} \\
		\textbf{Scenario ID}: SC05 \\
		\textbf{Pre-requisite}: Valid user account,  request from a third party \\
		\textbf{Expected output}: Approved request\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Login into the application with an Individual account}
			\item{Select Approved from the status list}
			\item{Click on Update}]
		\end{enumerate}
		\textbf{Actual output}: The page reloads and the request is approved\\
		\rule{\linewidth}{0.4pt}

		\item{\textbf{Reject a request}} \\
		\textbf{Scenario ID}: SC05 \\
		\textbf{Pre-requisite}: Valid user account,  request from a third party \\
		\textbf{Expected output}: Rejected request\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Login into the application with an Individual account}
			\item{Select Reject from the status list}
			\item{Click on Update}]
		\end{enumerate}
		\textbf{Actual output}: The page reloads and the request is rejected\\
		\rule{\linewidth}{0.4pt}
\end{itemize}
\subsection{AutomatedSOS test cases}
\begin{itemize}
		\item{\textbf{User notification - accept request}} \\
		\textbf{Scenario ID}: SC07 \\
		\textbf{Pre-requisite}: A request from ASOS has arrived \\
		\textbf{Expected output}: New user is saved in ASOS database\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Login as Individual}
			\item{Accept the ASOS request}
			\item{Check ASOS database for new user}
		\end{enumerate}
		\textbf{Actual output}: New user has been created \\
		\rule{\linewidth}{0.4pt}

		\item{\textbf{User notification - reject request}} \\
		\textbf{Scenario ID}: SC07 \\
		\textbf{Pre-requisite}: A request from ASOS has arrived \\
		\textbf{Expected output}: No new user in ASOS database\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Launch application}
			\item{Login as Individual}
			\item{Reject the ASOS request}
			\item{Check ASOS database for new user}
		\end{enumerate}
		\textbf{Actual output}: No user has been created \\
		\rule{\linewidth}{0.4pt}

		\item{\textbf{User data}} \\
		\textbf{Scenario ID}: SC08, SC09, SC10 \\
		\textbf{Pre-requisite}: User has accepted the ASOS request, User exist in the ASOS database \\
		\textbf{Expected output}: ASOS sends a message to the emergency service\\
		\textbf{Steps}:
		\begin{enumerate}
			\item{Send new data to D4H with heart rate equal to 0}
		\end{enumerate}
		\textbf{Actual output}: ASOS has contacted the emergency contact \\
		\rule{\linewidth}{0.4pt}

\end{itemize}


	\chapter{Installation instructions}
The TrackMe project is composed by 3 different systems: Data4Help, AutomatedSOS, and Track4Run. We decided to develop Data4Help, which is the leading system, and AutomatedSOS.

	\section{How to run both systems?}
	The whole system is dockerized, so, the steps to run the whole environment are:

	\begin{enumerate}
	\item Install \href{https://docs.docker.com/install/}{\textbf{Docker}} and \href{https://docs.docker.com/compose/install/}{\textbf{Docker Compose}}.
	\item At the level of \textit{TrackMe/src} folder, open a terminal and execute
	\textbf{sudo docker-compose up} (with --build to rebuild the image).
	\item Open the browser and you can access to the Data4Help site using the following URL
		\textbf{http://0.0.0.0:4200}
	\end{enumerate}

	\subsection{How to work on the back-end?}
	The following are the steps needed to work on the back-end:

	\begin{enumerate}
	\item \href{https://www.oracle.com/technetwork/java/javase/downloads/index.html}{\textbf{JDK}}  $>$= 8 is needed.
	\item Install \href{https://maven.apache.org/what-is-maven.html}{\textbf{Apache Maven}}.
	\item Install \href{https://docs.mongodb.com/manual/installation/}{\textbf{MongoDB}}  and \href{https://redis.io/download}{\textbf{Redis}}.
	\item In the folder \textit{TrackMe/src/data4help/}, open a terminal and run \textbf{mvn compile}.
	\item \textit{[Optional]} To run the service:
		\begin{enumerate}
		\item MongoDB and Redis services must be running.
		\item Execute the following line:\\
		\textbf{ mvn -X compile exec:java -Dexec.mainClass=avila.schiatti.virdi.Main -e}.
		\item Access the site/services by accessing to \textbf{http://127.1.1.1:4567}
		\end{enumerate}

	\textit{	In order to be able to have the front end, you should follow the steps of the front-end section, without running it}
	\end{enumerate}

	\subsection{How to work on the front-end?}
	In order to work on the front-end, follow this steps:

	\begin{enumerate}
	\item Install \href{https://nodejs.org/es/download/}{\textbf{Nodejs and NPM}}.
	\item Install \href{https://cli.angular.io/}{\textbf{AngularCLI }} by running the following line:\textbf{ npm install -g @angular/cli }
	\item Go to \textit{src/main/resources} folder and install the package dependencies running: \textbf{npm install}
	\item Build the project by running \textbf{ng build}.
	\item To run the front-end, you can run: \textbf{ng serve}. You will be able to access the front-end by accessing to \textbf{http://127.1.1.1:4200}

	\textit{You won't have access to the back-end services, so probably the front-end alone is not useful)}
	\end{enumerate}


	\chapter{Effort spent}

	\begin{table}[h]
		\centering
		\begin{tabular}{l c}
			\hline\hline
			\multicolumn{2}{c}{\textbf{Team Work}} \\
			\hline
			\textbf{Task} & \textbf{Hours} \\ [0.5ex]
			\hline
			Planning Integration & 8  \\
			Testing overview & 4\\
			Choosing Strategy & 3\\
			Checking document  & 4  \\
			\hline
			\textbf{Total} & 19  \\
			\hline
		\end{tabular}
		\caption{Time spent by all team members}
		\label{fig:Time spent by all team members}
	\end{table}

	\begin{table}[h]
		\centering
		\begin{tabular}{l c l c l c}
			\hline\hline
			\multicolumn{6}{c}{\textbf{Individual Work}} \\
			\hline
			\multicolumn{2}{c |}{\textbf{Diego Avila}}  &
			\multicolumn{2}{c |}{\textbf{Laura Schiatti}} &
			\multicolumn{2}{c}{\textbf{Sukhpreet Kaur}}  \\
			\hline
			\textbf{Task} & \textbf{Hours}
			& \textbf{Task} & \textbf{Hours}
			& \textbf{Task} & \textbf{Hours} \\ [0.5ex]
			\hline
			D4H back-end dev. &  50 
			& D4H front-end dev. & 30 
			& Layout & 2  \\
			\hline
			ASOS back-end dev. &  10
			& Data gen. script & 8 
			& Purpose and Scope & 3  \\
			\hline
			D4H $\&$ ASOS TC &  5
			& Imp. Reqs. & 3 
			& Imp. Reqs. & 6  \\
			\hline
			 Chap. 7 & 2
			& Seeds & 10
			& Individual Steps, Testing & 5 \\
			\hline
			 & 
			& Struct. Code & 3
			& Stubs and Test Data  & 10 \\
			\hline
			 &
			& X & 4
			& Adopted Frameworks & 4  \\
			\hline
			\textbf{Total} & 67
			& \textbf{Total} & 54
			& \textbf{Total} & 30  \\
			\hline
		\end{tabular}
		\caption{Time spent by each team member}
		\label{fig:Time spent by each team member}
	\end{table}

	\chapter{References}
	\begin{itemize}
		\item Requirement Analysis and Specification Document.pdf. Version 1.1 - 11.11.2018
		\item Design Document.pdf. Version 1.0 - 10.12.2018
		\item \textbf{Spark} - http://sparkjava.com/
		\item \textbf{Morphia} - http://morphiaorg.github.io/morphia/
		\item \textbf{Lettuce} - https://lettuce.io/
		\item \textbf{Angular} - https://angular.io/
		\item \textbf{Docker} - https://docs.docker.com/

	\end{itemize}

\end{document}
